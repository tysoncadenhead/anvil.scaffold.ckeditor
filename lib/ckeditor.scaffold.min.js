var path=require("path"),fs=require("fs"),root=path.resolve(__dirname,"../lib/template/")+"/";module.exports=function(e,s){"use strict";s.scaffold({type:"ckeditor",description:"Creates a new CKEditor plugin",prompt:[{name:"name",description:"The name of your plugin",required:!0},{name:"path",description:"Where is CKEditor installed? (IE: js/ckeditor)",required:!0}],data:{src:s.config.source,spec:s.config.spec},output:{"{{src}}/{{path}}/plugins/{{name}}":{"plugin.html":s.scaffold.file(root+"/plugin.html"),"plugin.js":s.scaffold.file(root+"/plugin.js"),images:{"icon.png":s.scaffold.file(root+"/empty")},"server.js":s.scaffold.file(root+"/server.js")},"{{spec}}":{"test.js":function(){return fs.existsSync(s.project.root+"/spec/test.js")?fs.readFileSync(s.project.root+"/spec/test.js","utf8"):s.scaffold.file(root+"/test.js")},"ckeditor.{{name}}.spec.js":s.scaffold.file(root+"/spec.js")}}})};